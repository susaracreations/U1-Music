
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sus FM - The Ultimate Discord Music Bot</title>
    <link rel="icon" type="image/svg+xml" href="https://i.ibb.co/PGPGx0jq/sus-fm.gif">
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Google Fonts: Space Grotesk & Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        // Lavalink Server API Configuration
        const LAVALINK_API_KEY = 'fsv0RfIosZeARdoF5dVxJhZfbdVMfSAoRZoeqVaYvUimMdFr';

        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-blue': '#4F46E5', // For CTA button
                        'dark-navy': '#0A0A2A',   // Main background
                        'deep-blue': '#101736',   // Card/panel background (now replaced by glass)
                        'neon-green': '#10B981',  // System online indicator
                        'neon-purple': '#A78BFA', // Accent color
                        'glass': 'rgba(255, 255, 255, 0.03)',
                        'glass-stroke': 'rgba(255, 255, 255, 0.08)',
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                    },
                    keyframes: {
                        glow: {
                            '0%, 100%': { 'box-shadow': '0 0 10px rgba(79, 70, 229, 0.5), 0 0 5px rgba(79, 70, 229, 0.3)' },
                            '50%': { 'box-shadow': '0 0 20px rgba(79, 70, 229, 0.8), 0 0 10px rgba(79, 70, 229, 0.5)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        blob: {
                            "0%": { transform: "translate(0px, 0px) scale(1)" },
                            "33%": { transform: "translate(30px, -50px) scale(1.1)" },
                            "66%": { transform: "translate(-20px, 20px) scale(0.9)" },
                            "100%": { transform: "translate(0px, 0px) scale(1)" }
                        },
                        'gradient-x': {
                            '0%, 100%': {
                                'background-size': '200% 200%',
                                'background-position': 'left center'
                            },
                            '50%': {
                                'background-size': '200% 200%',
                                'background-position': 'right center'
                            },
                        }
                    },
                    animation: {
                        glow: 'glow 3s ease-in-out infinite',
                        float: 'float 6s ease-in-out infinite',
                        blob: "blob 7s infinite",
                        'gradient-x': 'gradient-x 3s ease infinite',
                        'spin-slow': 'spin 10s linear infinite',
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom styles for the network diagram aesthetic */
        .diagram-node {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 9999px;
            font-size: 0.75rem;
            text-align: center;
            cursor: default;
        }

        .diagram-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(to right, #4F46E5, #A78BFA);
            transform-origin: 0 0;
            opacity: 0.5;
            z-index: 10;
        }

        /* Global Styles */
        body {
            font-family: 'Outfit', sans-serif;
            background-color: #050505;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(79, 70, 229, 0.15), transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(167, 139, 250, 0.15), transparent 25%);
            background-attachment: fixed;
        }
        
        /* Style for the command tokens */
        .command-token {
            background: linear-gradient(90deg, rgba(79, 70, 229, 0.2), rgba(167, 139, 250, 0.2));
            border-radius: 0.25rem;
            padding: 2px 6px;
            font-family: monospace;
            font-weight: 600;
            color: #A78BFA; /* neon-purple */
            border: 1px solid rgba(167, 139, 250, 0.3);
        }

        /* Scroll Reveal Animation */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            filter: blur(10px); /* Modern Lens Blur Effect */
            transition: all 1s cubic-bezier(0.5, 0, 0, 1);
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
            filter: blur(0);
        }

        /* Spotlight Card Effect */
        .spotlight-card {
            position: relative;
            overflow: hidden;
        }
        .spotlight-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(255,255,255,0.06), transparent 40%);
            z-index: 0;
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
        }
        .spotlight-card:hover::before {
            opacity: 1;
        }

        /* Custom Cursor */
        .cursor-dot,
        .cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
        }
        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: white;
        }
        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            transition: width 0.2s, height 0.2s, background-color 0.2s;
        }
        body:hover .cursor-outline {
            background-color: rgba(255, 255, 255, 0.05);
        }

        /* --- 3D & Modern Additions --- */
        .perspective-1000 {
            perspective: 1000px;
        }
        .transform-style-3d {
            transform-style: preserve-3d;
        }
        .tilt-card {
            transition: transform 0.1s ease-out;
            will-change: transform;
        }
        /* Elements with this class will float above the card surface */
        .content-pop {
            transform: translateZ(30px);
        }
        
        /* Cyber Grid Background */
        .cyber-grid {
            position: fixed;
            bottom: -30%;
            left: -50%;
            width: 200%;
            height: 150%;
            background-image: 
                linear-gradient(rgba(79, 70, 229, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(79, 70, 229, 0.05) 1px, transparent 1px);
            background-size: 60px 60px;
            transform: perspective(500px) rotateX(60deg);
            animation: grid-move 20s linear infinite;
            z-index: -2;
            pointer-events: none;
            mask-image: linear-gradient(to top, black 0%, transparent 100%);
            -webkit-mask-image: linear-gradient(to top, black 0%, transparent 100%);
        }
        
        /* Particle Canvas Background */
        #particle-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        @keyframes grid-move {
            0% { background-position: 0 0; }
            100% { background-position: 0 60px; }
        }

        /* Scramble Text Effect Color */
        .dud {
            color: #4F46E5;
            opacity: 0.7;
        }

        /* Glitch Effect for Logo */
        @keyframes glitch-anim {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }

        .glitch-effect {
            transition: all 0.2s ease;
        }
        
        .glitch-effect:hover {
            animation: glitch-anim 0.3s cubic-bezier(.25, .46, .45, .94) both infinite;
            filter: drop-shadow(2px 2px 0px rgba(255, 0, 80, 0.7)) drop-shadow(-2px -2px 0px rgba(0, 255, 255, 0.7));
        }

        /* Live Update Flash Animation */
        @keyframes flash-update {
            0% { color: #10B981; text-shadow: 0 0 20px rgba(16, 185, 129, 0.5); transform: scale(1.05); }
            100% { color: white; text-shadow: none; transform: scale(1); }
        }
        .updated {
            animation: flash-update 0.5s ease-out;
        }

        /* --- Ultra Modern Loader CSS --- */
        .loader-container {
            perspective: 1000px;
            transform-style: preserve-3d;
        }
        .loader-core {
            width: 120px;
            height: 120px;
            position: relative;
            transform-style: preserve-3d;
        }
        .loader-ring-1 {
            position: absolute;
            inset: -10px;
            border: 2px solid transparent;
            border-top: 2px solid #4F46E5;
            border-bottom: 2px solid #4F46E5;
            border-radius: 50%;
            animation: spin-3d-1 3s cubic-bezier(0.5, 0, 0.5, 1) infinite;
        }
        .loader-ring-2 {
            position: absolute;
            inset: -25px;
            border: 1px solid rgba(167, 139, 250, 0.3);
            border-left: 2px solid #A78BFA;
            border-right: 2px solid #A78BFA;
            border-radius: 50%;
            animation: spin-3d-2 4s linear infinite;
        }
        .loader-ring-3 {
            position: absolute;
            inset: -40px;
            border: 1px dashed rgba(16, 185, 129, 0.4);
            border-radius: 50%;
            animation: spin-reverse 12s linear infinite;
        }
        .loader-logo-glow {
            position: absolute;
            inset: -20px;
            background: radial-gradient(circle, rgba(79,70,229,0.6) 0%, transparent 70%);
            animation: pulse-glow 2s ease-in-out infinite;
            filter: blur(10px);
        }
        
        @keyframes spin-3d-1 {
            0% { transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg); }
            100% { transform: rotateX(360deg) rotateY(180deg) rotateZ(360deg); }
        }
        @keyframes spin-3d-2 {
            0% { transform: rotateX(180deg) rotateY(0deg) rotateZ(0deg); }
            100% { transform: rotateX(540deg) rotateY(360deg) rotateZ(0deg); }
        }
        @keyframes spin-reverse {
            0% { transform: rotateZ(360deg); }
            100% { transform: rotateZ(0deg); }
        }
        @keyframes pulse-glow {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }
        @keyframes shimmer {
            0% { transform: translateX(-150%); }
            100% { transform: translateX(250%); }
        }
        
        /* Glitch Text Animation */
        .glitch-text {
            position: relative;
        }
        .glitch-text::before,
        .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #050505;
        }
        .glitch-text::before {
            left: 2px;
            text-shadow: -1px 0 #ff00c1;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim-1 5s infinite linear alternate-reverse;
        }
        .glitch-text::after {
            left: -2px;
            text-shadow: -1px 0 #00fff9;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim-2 5s infinite linear alternate-reverse;
        }
        @keyframes glitch-anim-1 {
            0% { clip: rect(20px, 9999px, 10px, 0); }
            20% { clip: rect(60px, 9999px, 70px, 0); }
            40% { clip: rect(10px, 9999px, 50px, 0); }
            60% { clip: rect(80px, 9999px, 20px, 0); }
            80% { clip: rect(30px, 9999px, 40px, 0); }
            100% { clip: rect(50px, 9999px, 90px, 0); }
        }
        @keyframes glitch-anim-2 {
            0% { clip: rect(10px, 9999px, 80px, 0); }
            20% { clip: rect(80px, 9999px, 10px, 0); }
            40% { clip: rect(30px, 9999px, 60px, 0); }
            60% { clip: rect(70px, 9999px, 20px, 0); }
            80% { clip: rect(20px, 9999px, 50px, 0); }
            100% { clip: rect(90px, 9999px, 10px, 0); }
        }

        @keyframes music-bar-anim {
            0%, 100% { height: 4px; }
            50% { height: 12px; }
        }

        /* --- Ultra Modern Additions --- */
        
        /* Animated Film Grain */
        .noise-overlay {
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjY1IiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI2cpIiBvcGFjaXR5PSIxIi8+PC9zdmc+');
            opacity: 0.04;
            mix-blend-mode: overlay;
            pointer-events: none;
            z-index: 50;
            animation: noise-anim 0.2s infinite;
        }
        @keyframes noise-anim {
            0% { transform: translate(0,0); }
            10% { transform: translate(-5%,-5%); }
            20% { transform: translate(-10%,5%); }
            30% { transform: translate(5%,-10%); }
            40% { transform: translate(-5%,15%); }
            50% { transform: translate(-10%,5%); }
            60% { transform: translate(15%,0); }
            70% { transform: translate(0,10%); }
            80% { transform: translate(-15%,0); }
            90% { transform: translate(10%,5%); }
            100% { transform: translate(5%,0); }
        }

        /* Scroll Progress Bar */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, #4F46E5, #A78BFA, #10B981);
            z-index: 9999;
            width: 0%;
            transition: width 0.1s ease-out;
            box-shadow: 0 0 10px rgba(79, 70, 229, 0.5);
        }

        /* Magnetic Button Class */
        .magnetic-btn {
            transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }
    </style>
</head>
<body class="text-white min-h-screen overflow-x-hidden selection:bg-primary-blue selection:text-white">

    <!-- Animated Noise Overlay -->
    <div class="noise-overlay"></div>

    <!-- Scroll Progress Bar -->
    <div class="scroll-progress" id="scroll-progress"></div>

    <!-- Cyber Grid Background -->
    <div class="cyber-grid"></div>

    <!-- Custom Cursor Elements -->
    <div class="cursor-dot hidden md:block"></div>
    <div class="cursor-outline hidden md:block"></div>

    <!-- Animated Background Blobs -->
    <div class="fixed inset-0 z-[-1] overflow-hidden pointer-events-none">
        <div class="absolute top-0 left-1/4 w-96 h-96 bg-primary-blue/20 rounded-full mix-blend-screen filter blur-[100px] opacity-30 animate-blob"></div>
        <div class="absolute top-0 right-1/4 w-96 h-96 bg-neon-purple/20 rounded-full mix-blend-screen filter blur-[100px] opacity-30 animate-blob" style="animation-delay: 2s"></div>
        <div class="absolute -bottom-32 left-1/3 w-96 h-96 bg-pink-500/20 rounded-full mix-blend-screen filter blur-[100px] opacity-30 animate-blob" style="animation-delay: 4s"></div>
    </div>

    <!-- Particle Canvas -->
    <canvas id="particle-canvas"></canvas>

    <!-- Ultra Modern Loading Screen -->
    <div id="initial-loader" class="fixed inset-0 z-[10000] bg-[#050505] flex flex-col items-center justify-center transition-all duration-1000 ease-[cubic-bezier(0.77,0,0.175,1)] overflow-hidden">
        <!-- Background Grid Effect for Loader -->
        <div class="absolute inset-0 bg-[linear-gradient(rgba(79,70,229,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(79,70,229,0.1)_1px,transparent_1px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_at_center,black_40%,transparent_80%)]"></div>
        
        <div class="loader-container relative z-10">
            <div class="loader-core">
                <!-- 3D Rings -->
                <div class="loader-ring-1"></div>
                <div class="loader-ring-2"></div>
                <div class="loader-ring-3"></div>
                
                <!-- Central Logo -->
                <div class="absolute inset-0 flex items-center justify-center">
                    <div class="loader-logo-glow"></div>
                    <img src="https://i.ibb.co/PGPGx0jq/sus-fm.gif" alt="Logo" class="relative w-16 h-16 rounded-full z-20">
                </div>
            </div>
        </div>
        
        <div class="mt-12 text-center space-y-4 relative z-10">
            <h2 class="text-4xl font-display font-bold text-white tracking-[0.3em] glitch-text" data-text="INITIALIZING">INITIALIZING</h2>
            
            <div class="flex flex-col items-center gap-2">
                <div class="flex items-center gap-2 text-neon-green font-mono text-xs tracking-widest">
                    <span class="w-2 h-2 bg-neon-green rounded-full animate-pulse"></span>
                    <span id="loader-text">ESTABLISHING SECURE UPLINK...</span>
                </div>
                <!-- High tech progress bar -->
                <div class="w-64 h-1 bg-white/5 rounded-full overflow-hidden relative mt-2">
                    <div class="absolute inset-0 bg-gradient-to-r from-transparent via-primary-blue to-transparent w-[50%] animate-[shimmer_1.5s_infinite_linear]"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Header / Navigation Bar - Floating, Pill-Shaped Glassmorphism -->
    <header class="sticky top-0 z-50 p-4">
        <div class="max-w-7xl mx-auto">
            <!-- The Pill Header Element -->
            <div class="bg-glass backdrop-blur-2xl rounded-full border border-glass-stroke px-4 py-2 md:px-6 md:py-3 flex justify-between items-center shadow-2xl shadow-black/20 transition-all duration-300 hover:border-white/20 hover:shadow-primary-blue/10 relative z-50">
                <a href="#" class="flex items-center space-x-2 text-xl font-bold text-white">
                    <!-- Music Icon (Bot Logo) -->
                    <img src="https://i.ibb.co/PGPGx0jq/sus-fm.gif" alt="Sus FM Bot Icon" class="w-6 h-6 rounded-md glitch-effect">
                    <span class="font-display tracking-tight">Sus FM™</span>
                </a>
                
                <!-- Modern Sliding Nav -->
                <nav class="hidden lg:flex items-center relative bg-white/5 rounded-full p-1 border border-white/5">
                    <!-- Sliding Background Pill -->
                    <div id="nav-pill" class="absolute top-1 bottom-1 left-0 bg-white/10 rounded-full transition-all duration-300 ease-out opacity-0 pointer-events-none"></div>
                    
                    <a href="#features" class="nav-link relative z-10 px-5 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors duration-200">Features</a>
                    <a href="#commands" class="nav-link relative z-10 px-5 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors duration-200">Commands</a>
                    <!-- Support Link Updated to Sus Gang Discord URL -->
                    <a href="https://discord.gg/bdZhjy3n6z" target="_blank" class="nav-link relative z-10 px-5 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors duration-200">Support</a>
                </nav>

                <div class="flex items-center gap-3">
                    <!-- Invite Button -->
                    <a href="https://discord.com/oauth2/authorize?client_id=1418673291190730792&permissions=8&integration_type=0&scope=bot" target="_blank" class="magnetic-btn bg-primary-blue hover:bg-indigo-600 text-white font-semibold py-2 px-4 md:px-6 rounded-full transition duration-300 shadow-lg shadow-primary-blue/30 hover:scale-105 active:scale-95 text-sm md:text-base">
                        Invite Bot
                    </a>

                    <!-- Mobile Menu Toggle -->
                    <button id="mobile-menu-btn" class="lg:hidden text-white p-2 rounded-full hover:bg-white/10 transition focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" x2="21" y1="6" y2="6"/><line x1="3" x2="21" y1="12" y2="12"/><line x1="3" x2="21" y1="18" y2="18"/></svg>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu Dropdown -->
            <div id="mobile-menu" class="absolute top-full left-0 w-full mt-2 p-4 hidden lg:hidden z-40 transform transition-all duration-300 origin-top scale-95 opacity-0">
                <div class="bg-glass backdrop-blur-3xl rounded-3xl border border-glass-stroke p-4 flex flex-col space-y-2 shadow-2xl bg-dark-navy/90">
                    <a href="#features" class="mobile-link block px-4 py-3 rounded-xl hover:bg-white/10 transition text-gray-300 hover:text-white font-medium">Features</a>
                    <a href="#commands" class="mobile-link block px-4 py-3 rounded-xl hover:bg-white/10 transition text-gray-300 hover:text-white font-medium">Commands</a>
                    <a href="https://discord.gg/bdZhjy3n6z" target="_blank" class="mobile-link block px-4 py-3 rounded-xl hover:bg-white/10 transition text-gray-300 hover:text-white font-medium">Support</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content/Hero Section -->
    <main class="max-w-7xl mx-auto p-4 md:p-8 reveal">
        <div class="grid lg:grid-cols-2 gap-12 lg:gap-24 items-center mt-12 md:mt-24">

            <!-- Left Side: Text and CTA -->
            <div class="space-y-6">
                <!-- Updated to mention Lavalink -->
                <div class="flex items-center space-x-2 text-sm font-medium text-neon-green">
                    <span class="w-2 h-2 bg-neon-green rounded-full animate-pulse"></span>
                    <span>Powered by Ultra-Fast Lavalink</span>
                </div>

                <h1 class="text-4xl md:text-6xl lg:text-7xl font-display font-bold leading-tight tracking-tight">
                    The Future of <br> <span class="scramble-text text-transparent bg-clip-text bg-gradient-to-r from-primary-blue via-neon-purple to-pink-500 animate-gradient-x bg-[length:200%_auto]">Discord Audio</span>
                </h1>

                <!-- Updated to mention Lavalink -->
                <p class="text-lg text-gray-400 max-w-xl font-light leading-relaxed">
                    Built on **Lavalink** for unparalleled speed, Sus FM delivers seamless, lag-free, high-fidelity audio. Effortlessly play your favorite tracks and playlists from **Spotify** and **YouTube** directly in your Discord voice channels.
                </p>

                <!-- Main CTA Button - UPDATED LINK and now rounded-full for oval shape -->
                <a href="https://discord.com/oauth2/authorize?client_id=1418673291190730792&permissions=8&integration_type=0&scope=bot" target="_blank" class="magnetic-btn group relative overflow-hidden inline-flex items-center justify-center space-x-3 bg-primary-blue hover:bg-indigo-600 text-white font-semibold py-3 px-8 mt-6 rounded-full transition duration-300 shadow-2xl shadow-primary-blue/50 transform hover:scale-[1.02] active:scale-[0.98] animation-glow">
                    <!-- Shine Effect -->
                    <div class="absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out"></div>
                    <span class="relative z-10">Invite Sus FM Now</span>
                    <!-- Arrow Right Icon -->
                    <svg class="relative z-10" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                </a>

                <!-- Feature Highlights (bottom left) -->
                <div class="flex flex-wrap gap-x-6 gap-y-3 pt-6 text-sm text-gray-300">
                    <div class="flex items-center space-x-1.5">
                        <span class="w-2 h-2 bg-neon-green rounded-full"></span>
                        <span>99.99% Uptime SLA</span>
                    </div>
                    <div class="flex items-center space-x-1.5">
                        <span class="w-2 h-2 bg-neon-green rounded-full"></span>
                        <span>Spotify & YouTube Integration</span>
                    </div>
                    <div class="flex items-center space-x-1.5">
                        <span class="w-2 h-2 bg-neon-green rounded-full"></span>
                        <span>Lag-free Audio (Lavalink)</span>
                    </div>
                </div>
            </div>

            <!-- Right Side: System Status / Diagram Panel - Applied Glassmorphism -->
            <div class="tilt-card transform-style-3d bg-glass backdrop-blur-3xl p-8 rounded-[2.5rem] shadow-2xl border border-glass-stroke w-full aspect-square max-w-md mx-auto lg:max-w-none relative overflow-hidden group hover:border-primary-blue/30 transition-colors duration-500">
                <!-- Decorative background blob -->
                <div class="absolute -top-20 -right-20 w-64 h-64 bg-primary-blue/20 rounded-full blur-3xl group-hover:bg-primary-blue/30 transition duration-500"></div>
                
                <!-- Status Header -->
                <div class="content-pop flex justify-between items-center pb-4 border-b border-white/10 relative z-10">
                    <div id="status-container" class="flex items-center space-x-2 text-sm font-medium text-neon-green">
                        <span id="status-indicator" class="w-2 h-2 bg-neon-green rounded-full animate-pulse"></span>
                        <span id="status-text">BOT ONLINE</span>
                    </div>
                    <span class="text-sm text-gray-500 font-mono tracking-widest">SUS FM™ v2.0</span>
                </div>

                <!-- Metrics - kept dark for contrast on the glass background -->
                <div class="content-pop grid grid-cols-2 gap-4 my-6 relative z-10">
                    <div class="p-4 bg-black/40 rounded-2xl border border-white/5 backdrop-blur-sm">
                        <p class="text-sm text-gray-400">Active Servers</p>
                        <p id="server-count" class="text-2xl font-display font-bold text-white counter" data-target="">0</p>
                    </div>
                    <div class="p-4 bg-black/40 rounded-2xl border border-white/5 backdrop-blur-sm">
                        <p class="text-sm text-gray-400">Daily Streams</p>
                        <p id="stream-count" class="text-2xl font-display font-bold text-white counter" data-target="">0</p>
                    </div>
                    <div class="p-4 bg-black/40 rounded-2xl border border-white/5 backdrop-blur-sm">
                        <p class="text-sm text-gray-400">Avg. Ping</p>
                        <p id="ping-count" class="text-2xl font-display font-bold text-white">-- ms</p>
                    </div>
                    <div class="p-4 bg-black/40 rounded-2xl border border-white/5 backdrop-blur-sm flex flex-col justify-center">
                        <div class="flex items-center space-x-2 mb-1">
                            <div class="w-2 h-2 bg-neon-purple rounded-full animate-pulse"></div>
                            <span class="text-sm text-gray-400">Lavalink Node</span>
                        </div>
                        <p class="text-lg font-bold text-neon-purple">Connected</p>
                    </div>
                </div>

                <!-- Bot Ecosystem Diagram -->
                <div class="content-pop relative flex items-center justify-center h-80 mt-4 z-10 perspective-1000 overflow-visible">
                    <!-- Central Core -->
                    <div class="relative z-20 w-24 h-24 bg-black/80 backdrop-blur-xl rounded-full border border-white/10 flex items-center justify-center shadow-[0_0_50px_rgba(79,70,229,0.4)]">
                        <div class="absolute inset-0 rounded-full border border-primary-blue/50 animate-ping opacity-20"></div>
                        <div class="absolute inset-0 rounded-full border-2 border-t-primary-blue border-r-transparent border-b-primary-blue border-l-transparent animate-spin"></div>
                        <img src="https://i.ibb.co/PGPGx0jq/sus-fm.gif" class="w-16 h-16 rounded-full relative z-10">
                    </div>

                    <!-- Orbit 1: Discord -->
                    <div class="absolute w-48 h-48 border border-white/5 rounded-full animate-[spin_12s_linear_infinite]">
                        <div class="absolute -top-3 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#5865F2] rounded-full flex items-center justify-center shadow-lg shadow-[#5865F2]/40 animate-[spin_12s_linear_infinite_reverse]">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037 13.46 13.46 0 0 0-.59 1.227 18.35 18.35 0 0 0-5.524 0 13.46 13.46 0 0 0-.59-1.227.074.074 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/></svg>
                        </div>
                    </div>

                    <!-- Orbit 2: Spotify & YouTube -->
                    <div class="absolute w-72 h-72 border border-dashed border-white/10 rounded-full animate-[spin_20s_linear_infinite_reverse]">
                        <!-- Spotify -->
                        <div class="absolute top-1/2 -left-4 -translate-y-1/2 w-10 h-10 bg-[#1DB954] rounded-full flex items-center justify-center shadow-lg shadow-[#1DB954]/40 animate-[spin_20s_linear_infinite]">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/></svg>
                        </div>
                        <!-- YouTube -->
                        <div class="absolute top-1/2 -right-4 -translate-y-1/2 w-10 h-10 bg-[#FF0000] rounded-full flex items-center justify-center shadow-lg shadow-[#FF0000]/40 animate-[spin_20s_linear_infinite]">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
                        </div>
                    </div>

                    <!-- Orbit 3: Lavalink (Tilted) -->
                    <div class="absolute w-[22rem] h-[22rem] border border-white/5 rounded-full animate-[spin_25s_linear_infinite]" style="transform: rotateX(60deg) rotateY(10deg);">
                        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-auto px-3 py-1 bg-neon-purple/20 backdrop-blur-md border border-neon-purple/50 rounded-full text-[10px] font-bold text-neon-purple shadow-lg shadow-neon-purple/30 animate-[spin_25s_linear_infinite_reverse]">
                            LAVALINK NODE
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <!-- NEW FEATURES SECTION -->
    <section id="features" class="max-w-7xl mx-auto p-4 md:p-8 mt-20 reveal">
        <h2 class="text-4xl md:text-5xl font-display font-bold text-center mb-6">
            Next-Gen <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary-blue to-neon-purple">Capabilities</span>
        </h2>
        <p class="text-center text-lg text-gray-400 max-w-2xl mx-auto mb-16">
            Sus FM is engineered for speed and quality, giving your Discord community the best possible audio experience.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8" id="cards-container">
            <!-- Feature Card 1: Lavalink Performance -->
            <div class="tilt-card transform-style-3d spotlight-card bg-glass backdrop-blur-xl p-8 rounded-3xl border border-glass-stroke hover:border-primary-blue/50 transition duration-500 group">
                <div class="content-pop flex items-center justify-center w-12 h-12 bg-primary-blue/30 rounded-full mb-4">
                    <!-- Bolt Icon (Performance) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary-blue"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
                </div>
                <h3 class="text-xl font-display font-bold text-white mb-3 group-hover:text-primary-blue transition-colors">Lavalink Precision Engine</h3>
                <p class="text-gray-400 text-sm">
                    Experience music playback with **near-zero latency** and rock-solid stability. Our dedicated Lavalink audio server ensures a seamless, lag-free stream, even under heavy load. The audio quality is crystal-clear and reliable.
                </p>
            </div>

            <!-- Feature Card 2: Universal Source Integration -->
            <div class="tilt-card transform-style-3d spotlight-card bg-glass backdrop-blur-xl p-8 rounded-3xl border border-glass-stroke hover:border-neon-green/50 transition duration-500 group">
                <div class="content-pop flex items-center justify-center w-12 h-12 bg-neon-green/30 rounded-full mb-4">
                    <!-- Music Notes Icon (Integration) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-neon-green"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
                </div>
                <h3 class="text-xl font-display font-bold text-white mb-3 group-hover:text-neon-green transition-colors">Universal Source Integration</h3>
                <p class="text-gray-400 text-sm">
                    Effortlessly stream millions of tracks by simply pasting links from **Spotify, YouTube**, or other major streaming services. Play entire albums, custom playlists, or single songs with a single, simple command.
                </p>
            </div>

            <!-- Feature Card 3: Pro-Grade Audio Effects -->
            <div class="tilt-card transform-style-3d spotlight-card bg-glass backdrop-blur-xl p-8 rounded-3xl border border-glass-stroke hover:border-neon-purple/50 transition duration-500 group">
                <div class="content-pop flex items-center justify-center w-12 h-12 bg-neon-purple/30 rounded-full mb-4">
                    <!-- Sliders Icon (Customization) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-neon-purple"><line x1="4" x2="4" y1="21" y2="14"/><line x1="4" x2="4" y1="10" y2="3"/><line x1="12" x2="12" y1="21" y2="12"/><line x1="12" x2="12" y1="8" y2="3"/><line x1="20" x2="20" y1="21" y2="16"/><line x1="20" x2="20" y1="12" y2="3"/><line x1="1" x2="7" y1="14" y2="14"/><line x1="9" x2="15" y1="8" y2="8"/><line x1="17" x2="23" y1="16" y2="16"/></svg>
                </div>
                <h3 class="text-xl font-display font-bold text-white mb-3 group-hover:text-neon-purple transition-colors">Pro-Grade Audio Effects</h3>
                <p class="text-gray-400 text-sm">
                    Take full control of your listening environment. Apply professional audio filters like **BassBoost, Equalizer, Nightcore, Vaporwave**, and more to instantly customize the sound profile for your entire Discord server.
                </p>
            </div>
        </div>
    </section>

    <!-- COMMANDS SECTION -->
    <section id="commands" class="max-w-7xl mx-auto p-4 md:p-8 mt-20 reveal">
        <h2 class="text-4xl md:text-5xl font-display font-bold text-center mb-10">
            Command <span class="text-transparent bg-clip-text bg-gradient-to-r from-neon-purple to-pink-500">Terminal</span>
        </h2>

        <div class="bg-black/40 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-glass-stroke max-w-4xl mx-auto relative overflow-hidden">
            <!-- Terminal Header Decoration -->
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary-blue via-neon-purple to-pink-500"></div>
            
            <p class="text-lg text-gray-300 mb-6 border-b border-white/10 pb-4">
                <span class="text-neon-green font-semibold">Prefix: !</span> — Try: <span class="command-token">!play Lofi Hip Hop</span>
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-sm">
                <!-- Music Commands Group -->
                <div class="space-y-3">
                    <h3 class="text-xl font-display font-bold text-primary-blue mb-4">Playback Control</h3>
                    <div class="flex justify-between items-center">
                        <span class="command-token">!play &lt;query&gt;</span>
                        <span class="text-gray-400">Play a song or playlist</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="command-token">!pause</span>
                        <span class="text-gray-400">Pause the current track</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="command-token">!resume</span>
                        <span class="text-gray-400">Resume the current track</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="command-token">!skip</span>
                        <span class="text-gray-400">Skip the current track</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="command-token">!stop</span>
                        <span class="text-gray-400">Stop playback and clear queue</span>
                    </div>
                </div>
                
                <!-- Queue & Status Commands Group -->
                <div class="space-y-3">
                    <h3 class="text-xl font-semibold text-primary-blue mb-2">Queue & Info</h3>
                    <div class="flex justify-between items-center">
                        <span class="command-token">!queue</span>
                        <span class="text-gray-400">Show the current queue</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="command-token">!nowplaying</span>
                        <span class="text-gray-400">Show current track info</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="command-token">!shuffle</span>
                        <span class="text-gray-400">Shuffle the current queue</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="command-token">!loop</span>
                        <span class="text-gray-400">Toggle queue loop mode</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="command-token">!remove &lt;position&gt;</span>
                        <span class="text-gray-400">Remove a track from queue</span>
                    </div>
                </div>

                <!-- Utility Commands (Spanning Columns) -->
                <div class="space-y-3 mt-6 col-span-1 md:col-span-2">
                    <h3 class="text-xl font-semibold text-primary-blue mb-2">Settings & Utility</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="flex justify-between items-center">
                            <span class="command-token">!volume &lt;0-100&gt;</span>
                            <span class="text-gray-400">Adjust player volume</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="command-token">!clear</span>
                            <span class="text-gray-400">Clear the current queue</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="command-token">!status</span>
                            <span class="text-gray-400">Show player status</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="command-token">!help</span>
                            <span class="text-gray-400">Show this help message</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- TESTIMONIALS SECTION -->
    <section id="testimonials" class="max-w-7xl mx-auto p-4 md:p-8 mt-20 reveal">
        <h2 class="text-4xl md:text-5xl font-display font-bold text-center mb-10">
            Community <span class="text-transparent bg-clip-text bg-gradient-to-r from-neon-green to-primary-blue">Vibes</span>
        </h2>
        
        <div class="relative max-w-4xl mx-auto">
            <!-- Carousel Container -->
            <div class="overflow-hidden rounded-3xl bg-glass backdrop-blur-xl border border-glass-stroke relative min-h-[300px] md:min-h-[250px]">
                <div id="testimonial-track" class="flex transition-transform duration-500 ease-out h-full">
                    <!-- Slide 1 -->
                    <div class="w-full flex-shrink-0 p-8 md:p-12 flex flex-col items-center justify-center text-center">
                        <div class="w-16 h-16 rounded-full bg-gradient-to-br from-primary-blue to-purple-600 mb-4 p-0.5">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User" class="w-full h-full rounded-full bg-black">
                        </div>
                        <p class="text-xl md:text-2xl text-gray-200 font-light italic mb-6">"The audio quality is actually insane. No lag, just pure vibes for our late night gaming sessions."</p>
                        <h4 class="font-bold text-white">Malith</h4>
                        <span class="text-sm text-primary-blue">Server Owner</span>
                    </div>
                    <!-- Slide 2 -->
                    <div class="w-full flex-shrink-0 p-8 md:p-12 flex flex-col items-center justify-center text-center">
                         <div class="w-16 h-16 rounded-full bg-gradient-to-br from-neon-green to-teal-500 mb-4 p-0.5">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Sarah" alt="User" class="w-full h-full rounded-full bg-black">
                        </div>
                        <p class="text-xl md:text-2xl text-gray-200 font-light italic mb-6">"Finally a bot that plays Spotify playlists without stuttering. Sus FM is a permanent resident in our VC."</p>
                        <h4 class="font-bold text-white">Uwan</h4>
                        <span class="text-sm text-neon-green">Music Mod</span>
                    </div>
                    <!-- Slide 3 -->
                     <div class="w-full flex-shrink-0 p-8 md:p-12 flex flex-col items-center justify-center text-center">
                         <div class="w-16 h-16 rounded-full bg-gradient-to-br from-pink-500 to-orange-500 mb-4 p-0.5">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Alex" alt="User" class="w-full h-full rounded-full bg-black">
                        </div>
                        <p class="text-xl md:text-2xl text-gray-200 font-light italic mb-6">"The bass boost filter is exactly what we needed. 10/10 would recommend."</p>
                        <h4 class="font-bold text-white">Tharaka</h4>
                        <span class="text-sm text-pink-500">DJ</span>
                    </div>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <button id="prev-slide" class="absolute top-1/2 -left-4 md:-left-12 transform -translate-y-1/2 bg-black/50 hover:bg-primary-blue text-white p-3 rounded-full backdrop-blur-md border border-white/10 transition-all hover:scale-110 z-10">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
            </button>
            <button id="next-slide" class="absolute top-1/2 -right-4 md:-right-12 transform -translate-y-1/2 bg-black/50 hover:bg-primary-blue text-white p-3 rounded-full backdrop-blur-md border border-white/10 transition-all hover:scale-110 z-10">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
            </button>
            
            <!-- Dots -->
            <div class="flex justify-center gap-2 mt-6">
                <button class="dot w-3 h-3 rounded-full bg-white/20 hover:bg-white transition-colors" data-index="0"></button>
                <button class="dot w-3 h-3 rounded-full bg-white/20 hover:bg-white transition-colors" data-index="1"></button>
                <button class="dot w-3 h-3 rounded-full bg-white/20 hover:bg-white transition-colors" data-index="2"></button>
            </div>
        </div>
    </section>
    
    <!-- Footer/Placeholder for other sections -->
    <footer class="mt-20 py-8 text-center text-sm text-gray-500 border-t border-gray-800">
        <p class="mb-1">&copy; 2024 Sus FM. All rights reserved. Spotify and YouTube are registered trademarks.</p>
        <!-- Added Sus Gang credit and Discord link -->
        <p>A project by <a href="https://discord.gg/bdZhjy3n6z" target="_blank" class="text-neon-purple hover:text-primary-blue transition duration-200 font-medium">Sus Gang™</a></p>
    </footer>

    <!-- Background Music Player Widget (Bottom Left) -->
    <div id="bg-music-widget" class="fixed bottom-6 left-6 z-40 hidden md:flex items-center gap-4 bg-black/60 backdrop-blur-xl border border-white/10 p-4 rounded-2xl shadow-2xl transform hover:scale-105 transition-all duration-300 animate-float cursor-pointer group hover:border-neon-purple/30" style="animation-delay: 0.5s;">
        <audio id="bg-audio" loop>
            <source src="https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=lofi-study-112191.mp3" type="audio/mpeg">
        </audio>
        
        <div class="relative w-12 h-12 rounded-lg overflow-hidden shadow-lg shadow-neon-purple/20 group-hover:shadow-neon-purple/40 transition-shadow">
            <div class="absolute inset-0 bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center">
                <!-- Play/Pause Icon -->
                <svg id="bg-play-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                <svg id="bg-pause-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white hidden"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>
            </div>
        </div>
        
        <div class="flex flex-col min-w-[100px]">
            <span class="text-[10px] text-neon-purple font-bold tracking-wider mb-0.5">WEBSITE AUDIO</span>
            <span class="text-sm font-bold text-white">Chill Lofi</span>
            
            <!-- Visualizer Bars -->
            <div class="flex items-end gap-1 h-3 mt-1" id="bg-visualizer">
                <div class="w-1 bg-neon-purple/50 rounded-full h-1"></div>
                <div class="w-1 bg-neon-purple/50 rounded-full h-1"></div>
                <div class="w-1 bg-neon-purple/50 rounded-full h-1"></div>
                <div class="w-1 bg-neon-purple/50 rounded-full h-1"></div>
            </div>
        </div>
    </div>

    <!-- Floating Music Player Widget -->
    <div id="music-widget" class="fixed bottom-6 right-6 z-40 hidden md:flex items-center gap-4 bg-black/60 backdrop-blur-xl border border-white/10 p-4 rounded-2xl shadow-2xl transform hover:scale-105 transition-all duration-300 animate-float" style="animation-delay: 1s;">
        <div class="relative w-12 h-12 rounded-lg overflow-hidden shadow-lg shadow-primary-blue/20">
            <img id="widget-thumbnail" src="https://i.ibb.co/PGPGx0jq/sus-fm.gif" alt="Album Art" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-black/10"></div>
        </div>
        <div class="flex flex-col min-w-[120px]">
            <span class="text-[10px] text-neon-green font-bold tracking-wider mb-0.5 flex items-center gap-1"><span class="w-1.5 h-1.5 bg-neon-green rounded-full animate-pulse"></span> NOW PLAYING</span>
            <span id="widget-title" class="text-sm font-bold text-white truncate"></span>
            <span id="widget-artist" class="text-xs text-gray-400 truncate"></span>
            <!-- Progress Bar -->
            <div class="w-full h-1 bg-white/10 rounded-full mt-2 overflow-hidden">
                <div class="h-full bg-gradient-to-r from-primary-blue to-neon-purple w-1/3 animate-[width_30s_linear_infinite]" style="width: 45%"></div>
            </div>
        </div>
    </div>

    <script>
        // --- Mobile Menu Logic ---
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');

        if (mobileMenuBtn && mobileMenu) {
            mobileMenuBtn.addEventListener('click', () => {
                if (mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.remove('hidden');
                    // Trigger reflow for transition
                    void mobileMenu.offsetWidth;
                    mobileMenu.classList.remove('opacity-0', 'scale-95');
                } else {
                    mobileMenu.classList.add('opacity-0', 'scale-95');
                    setTimeout(() => {
                        mobileMenu.classList.add('hidden');
                    }, 300);
                }
            });

            mobileLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('opacity-0', 'scale-95');
                    setTimeout(() => {
                        mobileMenu.classList.add('hidden');
                    }, 300);
                });
            });
        }

        // --- Scroll Reveal Animation ---
        document.addEventListener('DOMContentLoaded', () => {
            const reveals = document.querySelectorAll('.reveal');

            const revealOnScroll = () => {
                const windowHeight = window.innerHeight;
                const elementVisible = 150;

                reveals.forEach((reveal) => {
                    const elementTop = reveal.getBoundingClientRect().top;
                    if (elementTop < windowHeight - elementVisible) {
                        reveal.classList.add('active');
                    }
                });
            };

            window.addEventListener('scroll', revealOnScroll);
            // Trigger once on load
            revealOnScroll();
        });

        // --- Scroll Progress Bar ---
        window.addEventListener('scroll', () => {
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (scrollTop / scrollHeight) * 100;
            document.getElementById('scroll-progress').style.width = scrolled + "%";
        });

        // --- Magnetic Buttons ---
        // Only enable on desktop
        if (window.matchMedia("(hover: hover)").matches) {
            const magnets = document.querySelectorAll('.magnetic-btn');
            magnets.forEach(btn => {
                btn.addEventListener('mousemove', (e) => {
                    const rect = btn.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    btn.style.transform = `translate(${x * 0.3}px, ${y * 0.3}px)`;
                });
                btn.addEventListener('mouseleave', () => {
                    btn.style.transform = 'translate(0, 0)';
                });
            });
        }

        // --- Spotlight Card Effect ---
        const cardsContainer = document.getElementById('cards-container');
        const cards = document.querySelectorAll('.spotlight-card');

        cardsContainer.addEventListener('mousemove', (e) => {
            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                card.style.setProperty('--mouse-x', `${x}px`);
                card.style.setProperty('--mouse-y', `${y}px`);
            });
        });

        // --- 3D Tilt Effect ---
        const tiltCards = document.querySelectorAll('.tilt-card');
        
        // Only enable tilt on devices that support hover (desktops) to prevent mobile jitter
        if (window.matchMedia("(hover: hover)").matches) {
            tiltCards.forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    
                    // Calculate rotation based on mouse position
                    const rotateX = ((y - centerY) / centerY) * -10; // Max 10deg rotation
                    const rotateY = ((x - centerX) / centerX) * 10;

                    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;
                });
                
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)';
                });
            });
        }

        // --- Modern Header: Sliding Pill Effect ---
        const navLinks = document.querySelectorAll('.nav-link');
        const navPill = document.getElementById('nav-pill');
        const navContainer = document.querySelector('nav');

        if (navContainer && navPill) {
            navLinks.forEach(link => {
                link.addEventListener('mouseenter', (e) => {
                    const rect = e.target.getBoundingClientRect();
                    const navRect = navContainer.getBoundingClientRect();
                    
                    // Calculate position relative to the container
                    const left = rect.left - navRect.left;
                    const width = rect.width;

                    navPill.style.width = `${width}px`;
                    navPill.style.transform = `translateX(${left}px)`;
                    navPill.style.opacity = '1';
                });
            });

            navContainer.addEventListener('mouseleave', () => {
                navPill.style.opacity = '0';
            });
        }

        // --- Custom Cursor Logic ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');

        if (cursorDot && cursorOutline) {
            window.addEventListener('mousemove', (e) => {
                const posX = e.clientX;
                const posY = e.clientY;

                // Dot follows instantly
                cursorDot.style.left = `${posX}px`;
                cursorDot.style.top = `${posY}px`;

                // Outline follows with delay (using animate for smoothness)
                cursorOutline.animate({
                    left: `${posX}px`,
                    top: `${posY}px`
                }, { duration: 500, fill: "forwards" });
            });

            // Add hover effect to interactive elements
            const interactiveElements = document.querySelectorAll('a, button, .cursor-pointer');
            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => {
                    cursorOutline.style.transform = 'translate(-50%, -50%) scale(1.5)';
                    cursorOutline.style.backgroundColor = 'rgba(255, 255, 255, 0.1)';
                });
                el.addEventListener('mouseleave', () => {
                    cursorOutline.style.transform = 'translate(-50%, -50%) scale(1)';
                    cursorOutline.style.backgroundColor = 'transparent';
                });
            });
        }

        // --- Text Scramble Effect ---
        class TextScramble {
            constructor(el) {
                this.el = el;
                this.chars = '!<>-_\\/[]{}—=+*^?#________';
                this.update = this.update.bind(this);
            }
            setText(newText) {
                const oldText = this.el.innerText;
                const length = Math.max(oldText.length, newText.length);
                const promise = new Promise((resolve) => this.resolve = resolve);
                this.queue = [];
                for (let i = 0; i < length; i++) {
                    const from = oldText[i] || '';
                    const to = newText[i] || '';
                    const start = Math.floor(Math.random() * 40);
                    const end = start + Math.floor(Math.random() * 40);
                    this.queue.push({ from, to, start, end });
                }
                cancelAnimationFrame(this.frameRequest);
                this.frame = 0;
                this.update();
                return promise;
            }
            update() {
                let output = '';
                let complete = 0;
                for (let i = 0, n = this.queue.length; i < n; i++) {
                    let { from, to, start, end, char } = this.queue[i];
                    if (this.frame >= end) {
                        complete++;
                        output += to;
                    } else if (this.frame >= start) {
                        if (!char || Math.random() < 0.28) {
                            char = this.randomChar();
                            this.queue[i].char = char;
                        }
                        output += `<span class="dud">${char}</span>`;
                    } else {
                        output += from;
                    }
                }
                this.el.innerHTML = output;
                if (complete === this.queue.length) {
                    this.resolve();
                } else {
                    this.frameRequest = requestAnimationFrame(this.update);
                    this.frame++;
                }
            }
            randomChar() {
                return this.chars[Math.floor(Math.random() * this.chars.length)];
            }
        }

        // Initialize Scramble
        document.addEventListener('DOMContentLoaded', () => {
            const phrases = [
                'Discord Audio',
                'Music Quality',
                'Lavalink Speed',
                'Vibe Sessions'
            ];
            
            const el = document.querySelector('.scramble-text');
            if(el) {
                const fx = new TextScramble(el);
                let counter = 0;
                const next = () => {
                    fx.setText(phrases[counter]).then(() => {
                        setTimeout(next, 3000);
                    });
                    counter = (counter + 1) % phrases.length;
                };
                // Start after a small delay
                setTimeout(next, 1000);
            }
        });

        // --- Live Stats Counter Animation ---
        document.addEventListener('DOMContentLoaded', () => {
            const counters = document.querySelectorAll('.counter');
            const speed = 100; // The lower the slower

            counters.forEach(counter => {
                const updateCount = () => {
                    const target = +counter.getAttribute('data-target');
                    const count = +counter.innerText.replace(/,/g, ''); 
                    
                    // Lower inc to slow and higher to slow
                    const inc = target / speed;

                    if (count < target) {
                        counter.innerText = Math.ceil(count + inc).toLocaleString();
                        setTimeout(updateCount, 20);
                    } else {
                        counter.innerText = target.toLocaleString();
                    }
                };
                updateCount();
            });
        });

        // --- Particle System (Reacts to Mouse & Simulated Beats) ---
        const initParticles = () => {
            const canvas = document.getElementById('particle-canvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            let particlesArray = [];
            
            // Mouse interaction
            const mouse = {
                x: null,
                y: null,
                radius: 150
            }
            
            window.addEventListener('mousemove', (event) => {
                mouse.x = event.x;
                mouse.y = event.y;
            });
            
            // Simulated Beat Pulse
            let pulse = 1;
            let beatFrame = 0;

            class Particle {
                constructor(x, y, directionX, directionY, size, color) {
                    this.x = x;
                    this.y = y;
                    this.directionX = directionX;
                    this.directionY = directionY;
                    this.size = size;
                    this.baseSize = size;
                    this.color = color;
                }
                
                draw() {
                    ctx.beginPath();
                    // Pulse effect on size to simulate music beat
                    ctx.arc(this.x, this.y, this.size * pulse, 0, Math.PI * 2, false);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }
                
                update() {
                    if (this.x > canvas.width || this.x < 0) this.directionX = -this.directionX;
                    if (this.y > canvas.height || this.y < 0) this.directionY = -this.directionY;
                    
                    // Mouse Repulsion
                    let dx = mouse.x - this.x;
                    let dy = mouse.y - this.y;
                    let distance = Math.sqrt(dx*dx + dy*dy);
                    
                    if (distance < mouse.radius) {
                        if (mouse.x < this.x && this.x < canvas.width - 10) this.x += 3;
                        if (mouse.x > this.x && this.x > 10) this.x -= 3;
                        if (mouse.y < this.y && this.y < canvas.height - 10) this.y += 3;
                        if (mouse.y > this.y && this.y > 10) this.y -= 3;
                    }
                    
                    this.x += this.directionX;
                    this.y += this.directionY;
                    
                    this.draw();
                }
            }
            
            function init() {
                particlesArray = [];
                let numberOfParticles = (canvas.height * canvas.width) / 15000;
                for (let i = 0; i < numberOfParticles; i++) {
                    let size = (Math.random() * 2) + 1;
                    let x = (Math.random() * ((innerWidth - size * 2) - (size * 2)) + size * 2);
                    let y = (Math.random() * ((innerHeight - size * 2) - (size * 2)) + size * 2);
                    let directionX = (Math.random() * 2) - 1;
                    let directionY = (Math.random() * 2) - 1;
                    let color = Math.random() > 0.5 ? 'rgba(79, 70, 229, 0.4)' : 'rgba(167, 139, 250, 0.4)';
                    particlesArray.push(new Particle(x, y, directionX, directionY, size, color));
                }
            }
            
            function connect() {
                let opacityValue = 1;
                for (let a = 0; a < particlesArray.length; a++) {
                    for (let b = a; b < particlesArray.length; b++) {
                        let distance = ((particlesArray[a].x - particlesArray[b].x) * (particlesArray[a].x - particlesArray[b].x))
                        + ((particlesArray[a].y - particlesArray[b].y) * (particlesArray[a].y - particlesArray[b].y));
                        
                        if (distance < (canvas.width/7) * (canvas.height/7) && distance < 20000) {
                            opacityValue = 1 - (distance/20000);
                            ctx.strokeStyle = 'rgba(255, 255, 255,' + opacityValue * 0.05 + ')';
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                            ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                            ctx.stroke();
                        }
                    }
                }
            }
            
            function animate() {
                requestAnimationFrame(animate);
                ctx.clearRect(0, 0, innerWidth, innerHeight);
                
                // Update Pulse (Simulated Beat)
                beatFrame++;
                if (beatFrame > 50) {
                    pulse = 1.5; // Beat hit
                    beatFrame = 0;
                }
                // Smooth decay
                if (pulse > 1) pulse -= 0.02;
                
                for (let i = 0; i < particlesArray.length; i++) {
                    particlesArray[i].update();
                }
                connect();
            }
            
            window.addEventListener('resize', () => {
                canvas.width = innerWidth;
                canvas.height = innerHeight;
                init();
            });
            
            init();
            animate();
        };
        
        document.addEventListener('DOMContentLoaded', initParticles);

        // --- Testimonial Carousel ---
        document.addEventListener('DOMContentLoaded', () => {
            const track = document.getElementById('testimonial-track');
            const slides = track ? Array.from(track.children) : [];
            const nextBtn = document.getElementById('next-slide');
            const prevBtn = document.getElementById('prev-slide');
            const dots = document.querySelectorAll('.dot');
            
            if (!track || slides.length === 0) return;

            let currentIndex = 0;

            const updateSlide = (index) => {
                if (index < 0) index = slides.length - 1;
                if (index >= slides.length) index = 0;
                
                currentIndex = index;
                track.style.transform = `translateX(-${currentIndex * 100}%)`;
                
                dots.forEach((dot, i) => {
                    dot.classList.toggle('bg-primary-blue', i === currentIndex);
                    dot.classList.toggle('scale-125', i === currentIndex);
                    dot.classList.toggle('bg-white/20', i !== currentIndex);
                });
            };

            if (nextBtn) nextBtn.addEventListener('click', () => updateSlide(currentIndex + 1));
            if (prevBtn) prevBtn.addEventListener('click', () => updateSlide(currentIndex - 1));
            
            dots.forEach(dot => {
                dot.addEventListener('click', (e) => updateSlide(parseInt(e.target.dataset.index)));
            });

            setInterval(() => updateSlide(currentIndex + 1), 5000);
            updateSlide(0);
        });

        // --- Utility function for API Exponential Backoff (MANDATORY FOR API CALLS) ---
        // Although no LLM API call is needed for this static page, this function demonstrates 
        // the required robust calling structure if you were to add a feature like a command generator.
        async function fetchWithRetry(url, options, maxRetries = 3) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return response;
                } catch (error) {
                    if (i === maxRetries - 1) {
                        console.error('All retries failed.', error);
                        throw error;
                    }
                    const delay = Math.pow(2, i) * 1000;
                    // console.log(`Retry attempt ${i + 1} failed. Retrying in ${delay / 1000}s...`);
                    await new Promise(resolve => setTimeout(resolve, delay));
                }
            }
        }
    </script>

    <!-- Firebase Initialization -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDTuXzi7Clh0jeNO72mY6arh8pO4-m6Zv0",
            authDomain: "susfm-fef66.firebaseapp.com",
            databaseURL: "https://susfm-fef66-default-rtdb.asia-southeast1.firebasedatabase.app/",
            projectId: "susfm-fef66",
            storageBucket: "susfm-fef66.firebasestorage.app",
            messagingSenderId: "772122910920",
            appId: "1:772122910920:web:1b548a9118fb45146ac5fd",
            measurementId: "G-LZHG2GKSH3"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const db = getDatabase(app);

        // --- Realtime Bot Status Updates ---
        const statusRef = ref(db, 'botStatus');
        const streamsRef = ref(db, 'dailyStreams');

        // 1. Handle Bot Status & Guild Count
        onValue(statusRef, (snapshot) => {
            const data = snapshot.val();
            
            // Remove Loading Screen when data arrives
            const loader = document.getElementById('initial-loader');
            if (loader && !loader.classList.contains('loaded')) {
                const loaderText = document.getElementById('loader-text');
                if(loaderText) loaderText.innerText = "ACCESS GRANTED";
                
                setTimeout(() => {
                    // Curtain lift effect
                    loader.style.transform = "translateY(-100%)";
                    loader.classList.add('loaded');
                    setTimeout(() => loader.remove(), 800);
                }, 800);
            }

            if (data) {
                const statusContainer = document.getElementById('status-container');
                const statusText = document.getElementById('status-text');
                const statusIndicator = document.getElementById('status-indicator');
                const serverCount = document.getElementById('server-count');
                const pingCount = document.getElementById('ping-count');
                
                const widgetTitle = document.getElementById('widget-title');
                const widgetArtist = document.getElementById('widget-artist');
                const widgetThumbnail = document.getElementById('widget-thumbnail');

                // Update Online Status & Colors
                if (data.online) {
                    statusContainer.classList.remove('text-red-500');
                    statusContainer.classList.add('text-neon-green');
                    statusIndicator.classList.remove('bg-red-500');
                    statusIndicator.classList.add('bg-neon-green');
                    statusText.innerText = "BOT ONLINE";
                } else {
                    statusContainer.classList.remove('text-neon-green');
                    statusContainer.classList.add('text-red-500');
                    statusIndicator.classList.remove('bg-neon-green');
                    statusIndicator.classList.add('bg-red-500');
                    statusText.innerText = "MAINTENANCE";
                }

                // Update Server Count (with flash effect)
                if (data.guildCount) {
                    const currentVal = serverCount.innerText;
                    const newVal = data.guildCount.toLocaleString();
                    if (currentVal !== newVal) {
                        serverCount.innerText = newVal;
                        triggerUpdateAnim(serverCount);
                    }
                }

                // Update Ping
                if (data.ping) {
                    pingCount.innerText = data.ping + " ms";
                    // Color coding for ping
                    if (data.ping < 50) pingCount.className = "text-2xl font-display font-bold text-neon-green";
                    else if (data.ping < 150) pingCount.className = "text-2xl font-display font-bold text-yellow-400";
                    else pingCount.className = "text-2xl font-display font-bold text-red-500";
                } else {
                    pingCount.innerText = "-- ms";
                }

                // Update Now Playing Widget
                if (data.currentTrack) {
                    let title = data.currentTrack.title || "Unknown Track";
                    if (title.length > 20) {
                        title = title.substring(0, 20) + "...";
                    }
                    if(widgetTitle) widgetTitle.innerText = title;
                    if(widgetArtist) widgetArtist.innerText = data.currentTrack.author || "Unknown Artist";
                    if(widgetThumbnail) widgetThumbnail.src = data.currentTrack.thumbnail || "https://i.ibb.co/PGPGx0jq/sus-fm.gif";
                } else {
                    if(widgetTitle) widgetTitle.innerText = "Waiting for requests...";
                    if(widgetArtist) widgetArtist.innerText = "Sus FM";
                    if(widgetThumbnail) widgetThumbnail.src = "https://i.ibb.co/PGPGx0jq/sus-fm.gif";
                }
            }
        }, (error) => {
            console.error("Error reading bot status:", error);
            // Remove loader even on error so site is usable
            const loader = document.getElementById('initial-loader');
            if (loader && !loader.classList.contains('loaded')) {
                loader.style.transform = "translateY(-100%)";
                loader.classList.add('loaded');
                setTimeout(() => loader.remove(), 800);
            }
        });

        // 2. Handle Streams (Calculate Total)
        onValue(streamsRef, (snapshot) => {
            const data = snapshot.val();
            if (data) {
                const streamCount = document.getElementById('stream-count');
                // Sum up all values in the dailyStreams object
                const totalStreams = Object.values(data).reduce((sum, count) => sum + count, 0);
                
                const currentVal = streamCount.innerText;
                const newVal = totalStreams.toLocaleString();
                
                if (currentVal !== newVal) {
                    streamCount.innerText = newVal;
                    triggerUpdateAnim(streamCount);
                }
            }
        }, (error) => {
            console.error("Error reading streams:", error);
        });

        // Fallback: Force remove loader after 5 seconds if DB is slow/blocked
        setTimeout(() => {
             const loader = document.getElementById('initial-loader');
             if (loader && !loader.classList.contains('loaded')) {
                 loader.style.transform = "translateY(-100%)";
                 loader.classList.add('loaded');
                 setTimeout(() => loader.remove(), 800);
             }
        }, 5000);

        // Helper to trigger CSS animation
        function triggerUpdateAnim(element) {
            element.classList.remove('updated');
            void element.offsetWidth; // Trigger reflow
            element.classList.add('updated');
        }

        // --- Simulation Script (For Testing) ---
        // Call startSimulation() in the console to test the effects!
        window.startSimulation = () => {
            console.log("Starting local simulation...");
            
            setInterval(() => {
                const serverCount = document.getElementById('server-count');
                const streamCount = document.getElementById('stream-count');
                const pingCount = document.getElementById('ping-count');
                
                // Simulate random increments
                let currentServers = parseInt(serverCount.innerText.replace(/,/g, '')) || 14000;
                let currentStreams = parseInt(streamCount.innerText.replace(/,/g, '')) || 1200000;
                let currentPing = Math.floor(Math.random() * (60 - 20 + 1) + 20); // Random ping 20-60ms
                
                currentServers += Math.floor(Math.random() * 5);
                currentStreams += Math.floor(Math.random() * 50);

                serverCount.innerText = currentServers.toLocaleString();
                streamCount.innerText = currentStreams.toLocaleString();
                pingCount.innerText = currentPing + " ms";

                triggerUpdateAnim(serverCount);
                triggerUpdateAnim(streamCount);
            }, 2000); // Update every 2 seconds
        };

        // --- Draggable Music Widget ---
        document.addEventListener('DOMContentLoaded', () => {
            const widget = document.getElementById('music-widget');
            if (!widget) return;

            let isDragging = false;
            let startX, startY;

            // Set initial cursor style
            widget.style.cursor = 'grab';

            widget.addEventListener('mousedown', (e) => {
                isDragging = true;
                widget.style.cursor = 'grabbing';
                
                // Disable transitions and animations during drag for direct control
                widget.style.transition = 'none';
                widget.classList.remove('animate-float');

                // Calculate offset from mouse to element top-left
                const rect = widget.getBoundingClientRect();
                startX = e.clientX - rect.left;
                startY = e.clientY - rect.top;

                // Prevent default to avoid text selection
                e.preventDefault();
            });

            window.addEventListener('mousemove', (e) => {
                if (!isDragging) return;

                // Calculate new position
                const x = e.clientX - startX;
                const y = e.clientY - startY;

                // Apply position (switching from bottom/right to top/left positioning)
                widget.style.left = `${x}px`;
                widget.style.top = `${y}px`;
                widget.style.bottom = 'auto';
                widget.style.right = 'auto';
            });

            window.addEventListener('mouseup', () => {
                if (!isDragging) return;
                isDragging = false;
                widget.style.cursor = 'grab';
                
                // Re-enable transitions for hover effects
                widget.style.transition = 'all 0.3s ease';
            });
        });

        // --- Background Music Player Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            const bgWidget = document.getElementById('bg-music-widget');
            const bgAudio = document.getElementById('bg-audio');
            const playIcon = document.getElementById('bg-play-icon');
            const pauseIcon = document.getElementById('bg-pause-icon');
            const visualizerBars = document.querySelectorAll('#bg-visualizer div');
            
            if (bgWidget && bgAudio) {
                bgAudio.volume = 0.2; // Default low volume

                const togglePlay = () => {
                    if (bgAudio.paused) {
                        bgAudio.play().then(() => {
                            playIcon.classList.add('hidden');
                            pauseIcon.classList.remove('hidden');
                            bgWidget.classList.add('border-neon-purple/50');
                            // Start visualizer animation
                            visualizerBars.forEach((bar, index) => {
                                bar.style.animation = `music-bar-anim ${0.5 + index * 0.2}s ease-in-out infinite alternate`;
                            });
                        }).catch(e => console.log("Audio play failed:", e));
                    } else {
                        bgAudio.pause();
                        playIcon.classList.remove('hidden');
                        pauseIcon.classList.add('hidden');
                        bgWidget.classList.remove('border-neon-purple/50');
                        // Stop visualizer animation
                        visualizerBars.forEach(bar => {
                            bar.style.animation = 'none';
                        });
                    }
                };

                bgWidget.addEventListener('click', togglePlay);
            }
        });
    </script>
</body>
</html>
